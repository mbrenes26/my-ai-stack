
# 1.2.4 Condition-Based Indexing in Pandas

## Context
This lesson demonstrates how to manipulate data in Pandas DataFrames using conditional logic, focusing on filtering, adding, and removing data efficiently.

## Overview
Condition-based indexing is a powerful feature in Pandas that allows selective access to rows and columns based on logical conditions.  
This section also covers adding and removing columns, dropping rows, and resetting indices to maintain clean and structured data.

## Key Concepts
- **Condition-based indexing** filters data using Boolean logic.
- **Adding and removing columns** modifies DataFrame structure dynamically.
- **Dropping multiple columns** simplifies data cleaning.
- **Removing rows** allows selective data exclusion.
- **Resetting indices** ensures consistent indexing after modifications.

---

## Worked Examples

### [00:04] Condition-Based Indexing in Pandas
Condition-based indexing allows filtering rows based on logical conditions.

```python
# Retrieve rows where quantity > 1
filtered_data = store_data[store_data["quantity"] > 1]

# Using loc for the same result
filtered_data = store_data.loc[store_data["quantity"] > 1]
```
- `store_data["quantity"] > 1` creates a Boolean Series.
- `True` means the row meets the condition; `False` means it does not.

---

### [02:16] Adding and Removing Columns
**Adding a column:**
```python
df["rating"] = [4.5, 3.8, 4.0, 4.2, 3.9]  # Must match number of rows
```

**Removing a column:**
```python
df.drop("CustomerID", axis=1, inplace=True)
```
- `axis=1` → remove column.
- `inplace=True` → apply change permanently.

---

### [06:00] Dropping Multiple Columns
```python
df.drop(["location", "rating"], axis=1, inplace=True)
```
- Pass a **list** of column names to remove multiple columns.
- Always use `axis=1` for columns.

---

### [08:07] Removing Rows
```python
df.drop(0, axis=0, inplace=True)  # Remove first row
```
- `axis=0` → target rows.
- Changes are permanent only with `inplace=True`.

---

### [09:11] Resetting Index
```python
df.reset_index(drop=True, inplace=True)
```
- `drop=True` → avoid adding the old index as a new column.
- `inplace=True` → make changes permanent.

---

## Formulas (plain text)
- Boolean mask: `df[condition]`
- Drop column: `df.drop("col", axis=1)`
- Drop row: `df.drop(index, axis=0)`
- Reset index: `df.reset_index(drop=True)`

---

## Summary
- Condition-based indexing filters data using logical conditions.
- Columns and rows can be added or removed dynamically.
- Multiple columns can be dropped using a list.
- Resetting indices ensures clean DataFrame structure.
- `inplace=True` applies changes directly to the DataFrame.

---

## References
- [Pandas Documentation – Indexing and Selecting Data](https://pandas.pydata.org/docs/user_guide/indexing.html)

---

### Private Video Reference

> Access: Use your own Azure credentials or a short-lived SAS.  
> We do not publish proprietary media in this repository.
