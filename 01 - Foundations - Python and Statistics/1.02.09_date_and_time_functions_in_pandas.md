
# 1.2.9 Date and Time Functions in Pandas

## Context
This lesson provides a detailed guide on handling date and time data using Pandas. It covers importing, converting, formatting, extracting components, and calculating time differences for reliable time-based analysis.

## Overview
Working with date-time data is essential for **time series analysis**, **feature engineering**, and **reporting**.  
Pandas provides built-in tools for efficient manipulation and transformation of date and time fields.

## Key Concepts
- **Datetime conversion** using `pd.to_datetime()`.
- **Formatting** with `.dt.strftime()`.
- **Extracting components** like year, month, and day.
- **Calculating time differences** using subtraction.
- **Error prevention** by ensuring correct data types.

---

## Worked Examples

### [00:17] Importing and Inspecting Data
```python
import pandas as pd

data = pd.read_csv("StockData.csv")
data.head()
data.info()
```
Look for columns like `'date'` that may be of `object` type and need conversion.

---

### [00:35] Converting Strings to Datetime Objects
```python
data['date'] = pd.to_datetime(data['date'])
```
- Converts string dates to Pandas datetime objects.
- Enables advanced date operations and accurate computations.

---

### [00:52] Using the `dayfirst` Argument
```python
pd.to_datetime(data['date'], dayfirst=True)
```
- Use `dayfirst=True` for formats like **DD/MM/YYYY**.
- Prevents incorrect interpretation of dates.

---

### [02:12] Formatting Dates with `strftime`
```python
data['date'].dt.strftime('%m/%d/%Y')
```
- Formats datetime into readable strings.
- Useful for custom reports and exports.

Common format codes:
| Code | Meaning         | Example |
|------|------------------|---------|
| %Y   | Year (4-digit)   | 2025    |
| %m   | Month (01-12)    | 08      |
| %d   | Day (01-31)      | 06      |

---

### [04:13] Extracting Date Components
```python
data['year'] = data['date'].dt.year
data['month'] = data['date'].dt.month
data['day'] = data['date'].dt.day
```
- Enables grouped analysis, e.g., by year or month.
- Supports creating new features from time series.

---

### [06:09] Calculating Time Differences
```python
data['date_diff'] = data['date'] - data['date'].min()
```
- Subtracting datetime objects returns **Timedelta** objects.
- Useful for computing durations or time-based KPIs.

---

### [06:34] Handling Non-Datetime Columns
- Always convert string/object dates with `pd.to_datetime()` first.
- Otherwise, datetime operations like `.dt.year` or subtraction will raise errors.

---

## Formulas (plain text)
- Convert to datetime: `pd.to_datetime(df['date'])`
- Format date: `df['date'].dt.strftime('%m/%d/%Y')`
- Extract components: `df['date'].dt.year`, `df['date'].dt.month`, `df['date'].dt.day`
- Calculate differences: `df['date'] - df['date'].min()`

---

## Summary
- Pandas simplifies date-time manipulation with built-in functions.
- Use `pd.to_datetime()` for conversion and `.dt` for extraction.
- Formatting and time difference calculations enable flexible analysis.
- Proper datetime handling ensures accurate time-based insights.

---

## References
- [Pandas Documentation â€“ Working with Time Series](https://pandas.pydata.org/docs/user_guide/timeseries.html)

---

### Private Video Reference

> Access: Use your own Azure credentials or a short-lived SAS.  
> We do not publish proprietary media in this repository.
